pentest plugin
==============
> [Aliases](#aliases) and [functions](#functions) for the lazy penetration tester

Installation
------------

```bash
git clone https://github.com/jhwohlgemuth/oh-my-zsh-pentest-plugin.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/pentest
```

Usage
-----

- Add `pentest` to the plugins array in your `.zshrc` file:

```bash
plugins=(... pentest)
```

- Open a new terminal or execute `source ~/.zshrc`

Aliases
-------
> ***Hint:*** The [nmap oh-my-zsh plugin](https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/nmap) has several great aliases for `nmap` 

| Alias | Command                                                                |
| :---  | :---                                                                   |
| me    | `echo $(ifconfig eth0 \| grep "inet " \| cut -b 9- \| cut  -d" " -f2)` |
| rf    | `rm -frd`                                                              |
| cme   | `crackmapexec`                                                         |
| e4l   | `enum4linux -a`                                                        |
| h2t   | `html2text -style pretty`                                              |
| oso   | `onesixtyone `                                                         |

Functions
---------

| Alias                              | Command | Tested |
| :---                               | :---    | :---   | 
| `did` **MESSAGE** [**TAG**]        | Save **MESSAGE** to `~/did.txt` log | yes |
| `enum_snmp` **$IP** [**WORDLIST**] [**NETWORK**] | Create host list and scan **IP** with **WORDLIST** |
| `enum_web` **$IP** [**PORT**] [**WORDLIST**]     | Enumerate **IP** with `whatweb` and `nikto` | yes |
| `flush_iptables`                   | You guessed it...this flushes `iptables` |
| `focus` [**IP**] [**PORT**]        | Set RHOST=IP and RPORT=PORT |
| `get_gateway`                      | Get router IP address | yes |
| `get_hosts` [**PORT**]             | Get list of host IP addresses found via `nmap` | yes |
| `get_hostnames` **$IP**            | Get list of host names using `nmap` and the **IP** of a known DNS server | yes |
| `htm`                              | Download **IP** and print with `html2text` | yes |
| `iter` **$FUNCTION**               | Higher order function that will apply **FUNCTION** to items in a list |
| `monitor_traffic` **$IP**          | Monitor bytes over the line with `iptables` |
| `scan_tcp` **$IP**                 | Scan **IP** with ~~`onetwopunch`~~ [`masscan`](https://github.com/robertdavidgraham/masscan) |
| `serve` [**PORT**]                 | Start Python server in current directory on **PORT** [default: 80] |
| `ssh_status`                       | Print info about ssh...because I can never remember what options to pass `netstat`... |
| `timestamp`                        | Create a timestamp | yes |


Example Usage
-------------

```bash
# Scan all SMB servers for vulnerabilities with nmap scripts
scan() {nmap $1 --script "smb-vuln-*"}
get_hosts 139 | iter scan
```
> ***Hint:*** Use [`gibu`](https://github.com/jhwohlgemuth/gibu) to find NSE script names